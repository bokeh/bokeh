# See https://pre-commit.com for more information
# See https://pre-commit.com/hooks.html for more hooks
---
repos:
  - repo: local
    hooks:
      - id: run-codebase-tests
        name: Run Pytest on codebase tests
        description: This hook checks for codebase tests.
        entry: pytest tests/codebase
        language: conda
        # Mandatory otherwise `pre-commit` passes the names of all files to be commited
        pass_filenames: false
        stages: [push]

      - id: protect-master-branch
        name: Protect the master branch
        description: This hook asks the user to confirm before pushing to the master branch.
        entry: python scripts/protect_branch_git_hook.py
        language: conda
        # Mandatory otherwise `pre-commit` passes the names of all files to be commited
        pass_filenames: false
        stages: [push]
